# ReportCalendar

ReportCalendar - это класс, позволяющий отслеживать сроки отчетности и работать с производственным календарем.

## Описание

Данный класс позволяет получить дату ближайшей отчетности и количество дней до него относительно текущего момента времени.

## Использование 

Создаем экземпляр класса и используем метод closest_report, чтобы вывести информацию о ближайшем сроке сдачи отчетности:

```ruby
calendar = ReportCalendar.new

calendar.closest_report
```

## Офоррмление вывода:

Метод closest_report уже возвращает данные в терминал в читаемом виде. Вызов же других методов расчета сроков отчета возвращает массив, состоящий из даты конца срока, даты начала срока и его типа. Чтобы придать вид выводу отдельного метода, необходимо использовать метод output_format(report_date, report_type). Например, для лучшего отображения годовой отчетности лучше написать так:

```ruby

# Выведет в терминал красивую оформелнную строку
p calendar.output_format(calendar.annual_report[0], calendar.annual_report[2])

# Выведет массив [Data, Data, :annual]
p calendar.annual_report 

```
## Другие методы отчетностей

Есть 5 методов, которые возвращают информацию о сроках отчетности. Они делят отчетности по типам:

```monthly_report``` - месячная - сдается в течении 10 рабочих дней (:monthly)
```quarterly_report_weekdays``` - квартальная (март, июнь, сентябрь) - сдается в течении 10 рабочих дней (:quarterly_weekdays)
```quarterly_report``` - квартальная (март, июнь, сентябрь) - сдается в течении 30 календарных дней (:quarterly)
```annual_report_weekdays``` - годовая - сдается в течении 10 рабочих дней (:annual_weekdays)
```annual_report``` - годовая - сдается в течении 30 календарных дней (:annual)

Все эти методы возвращают массив вида [Data, Data, :report_type]

## Вспомогательные методы

Метод update_info(year = today_date.year) обновляет информацию о производственном календаре. Можно вызвать без значений, тогда загрузится производственный календарь за этот и следующий год. Если вписать конкретный год, то информация о предыдущем производственном календаре не сохранится, а останется только за вписаный и следующий после вписанного. 

Метод ```add_weekdays(date, days = 10)``` принимает 2 значения - дату и кол-во рабочих дней, и возвращает дату, которая будет через указанное количество **рабочих** дней. 

Метод ```workday?(Date)``` возвращает "0", если день рабочий и "1", если это выходной или праздник. Обратите внимание, что метод возвращает строку, а не число.

Метод  ```today_date``` возвращает сегодняшнюю дату